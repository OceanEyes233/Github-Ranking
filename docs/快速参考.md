# 快速参考 - 代码调整完成

## ✅ 已完成的调整

根据你的 Notion 数据库结构，代码已全部调整完成！

## 📋 你的 Notion 数据库字段

以下字段已在代码中配置好：

| 字段名 | 类型 | 来源 |
|--------|------|------|
| ✅ 名称 | Title | GitHub 仓库名 |
| ✅ 一句话简介 | Text | AI 生成 |
| ✅ 使用价值 | Text | AI 生成 |
| ✅ 用户群体 | Text | AI 生成 |
| ✅ Github链接 | URL | GitHub |
| ✅ 标签分类 | Select | AI 生成 |
| ✅ 小红书推广文案 | Text | AI 生成 |
| ✅ 公众号推广文案 | Text | AI 生成 |
| ✅ 日期 | Date | 系统生成 |

## 🎯 立即开始使用

### 方案 A: 完整配置（推荐）

```bash
# 1. 安装依赖
npm install

# 2. 配置 .env 文件
# 复制 config.example.env 为 .env，然后编辑：

NOTION_API_KEY=你的Notion密钥
NOTION_DATABASE_ID=你的数据库ID
OPENAI_API_KEY=你的OpenAI密钥（可选）

# 3. 运行
npm start
```

### 方案 B: 最小配置（免费）

```bash
# 1. 安装依赖
npm install

# 2. 只配置 Notion（不配置 OpenAI）
NOTION_API_KEY=你的Notion密钥
NOTION_DATABASE_ID=你的数据库ID

# 3. 运行（使用默认文案，免费）
npm start
```

### Windows 用户（最简单）

1. 双击 `install.bat` → 自动安装
2. 用记事本编辑 `.env` → 添加配置
3. 双击 `start.bat` → 启动程序

## ⚡ 配置说明

### 必需配置

```env
# Notion（必需）
NOTION_API_KEY=secret_xxxxx
NOTION_DATABASE_ID=xxxxx
```

### 可选配置

```env
# GitHub（可选，建议配置）
GITHUB_TOKEN=ghp_xxxxx

# OpenAI（可选，用于高质量文案）
OPENAI_API_KEY=sk-xxxxx
OPENAI_MODEL=gpt-3.5-turbo
```

## 🔑 获取 API Keys

### Notion API Key
https://www.notion.so/my-integrations

### OpenAI API Key
https://platform.openai.com/api-keys

### GitHub Token
https://github.com/settings/tokens

## ⚠️ 重要：标签分类字段类型

代码默认设置为 **Select（单选）**。

如果你的 Notion 数据库中"标签分类"是 **Multi-select（多选）**：

打开 `src/notionService.js`，找到第 98 行，将：

```javascript
properties['标签分类'] = {
  select: {
    name: repo.tags.split(',')[0].trim()
  }
};
```

改为：

```javascript
properties['标签分类'] = {
  multi_select: repo.tags.split(',').map(tag => ({ name: tag.trim() }))
};
```

## 📚 详细文档

| 文档 | 用途 |
|------|------|
| [更新说明.md](更新说明.md) | 📝 本次更新的详细说明 |
| [营销文案生成说明.md](营销文案生成说明.md) | 🤖 AI 功能详解 |
| [使用示例.md](使用示例.md) | 💡 完整使用示例 |
| [WINDOWS使用指南.md](WINDOWS使用指南.md) | 💻 Windows 专用指南 |
| [README.md](README.md) | 📖 完整文档 |

## 🎨 运行效果

### 控制台输出

```
开始获取 GitHub 热门仓库...
✓ 成功获取 10 个热门仓库

开始为 10 个仓库生成营销内容...

[1/10] 正在处理: BuilderIO/gpt-crawler
  ✓ 生成完成

[2/10] 正在处理: janhq/jan
  ✓ 生成完成

...

正在保存到 Notion 数据库...

✓ 已添加到 Notion: BuilderIO/gpt-crawler
✓ 已添加到 Notion: janhq/jan

✓ 已成功保存到 Notion 数据库
```

### Notion 数据库示例

查看后，你的 Notion 数据库将包含：

| 名称 | 一句话简介 | 使用价值 | 用户群体 | 标签分类 |
|------|-----------|---------|---------|---------|
| BuilderIO/gpt-crawler | 智能网站爬虫，自动生成知识库 | 能够自动爬取网站内容并生成... | AI开发者、全栈工程师 | AI,爬虫,开发工具 |
| janhq/jan | 本地 AI 助手，注重隐私 | 完全本地运行的 AI 助手... | 隐私注重者、AI爱好者 | AI,隐私,桌面应用 |

还包括完整的小红书和公众号推广文案！

## 🚀 新增功能

- ✅ AI 自动生成营销文案
- ✅ 支持默认文案（免费模式）
- ✅ 完全匹配你的 Notion 数据库
- ✅ 小红书风格文案（轻松活泼）
- ✅ 公众号风格文案（专业正式）
- ✅ 智能用户群体定位
- ✅ 自动标签分类

## 💰 费用说明

### 方案 1: 使用 AI（推荐）
- OpenAI API: 约 $0.02/天
- 每月约 $0.6（使用 gpt-3.5-turbo）
- **文案质量高，可直接使用**

### 方案 2: 默认文案（免费）
- 完全免费
- 基于模板生成
- 需要手动润色

## 🎯 使用场景

1. **内容创作** - 直接使用生成的文案发布
2. **技术选型** - 快速了解项目价值和适用人群
3. **团队分享** - 完整的项目介绍材料
4. **学习规划** - 根据用户群体筛选项目

## 📊 项目结构

```
github-ranking/
├── src/
│   ├── githubService.js    ← GitHub API
│   ├── aiService.js         ← ✨ 新增：AI 生成服务
│   └── notionService.js    ← 已更新：匹配你的数据库
├── index.js                 ← 已更新：集成 AI
├── config.example.env       ← 已更新：添加 OpenAI 配置
└── 文档...
```

## ✨ 开始使用

最快的方式：

**Windows 用户**
```
1. 双击 install.bat
2. 编辑 .env（添加 Notion 配置）
3. 双击 start.bat
```

**命令行用户**
```bash
npm install && npm start
```

就是这么简单！🎉

## 🆘 需要帮助？

- 查看 [更新说明.md](更新说明.md) - 详细的更新内容
- 查看 [营销文案生成说明.md](营销文案生成说明.md) - AI 功能详解
- 查看 [使用示例.md](使用示例.md) - 完整使用示例

---

**代码已准备就绪，开始使用吧！** 🚀



